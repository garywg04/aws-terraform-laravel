{
    "version": 1,
    "serial": 19,
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {
                "address": "tf-lb-pzieauc7kfdrba3kgnmnepi3ga-1452343936.us-west-2.elb.amazonaws.com",
                "bastion_ip": "52.24.57.52"
            },
            "resources": {
                "aws_db_instance.mysql": {
                    "type": "aws_db_instance",
                    "depends_on": [
                        "aws_db_subnet_group.mysql",
                        "aws_security_group.database"
                    ],
                    "primary": {
                        "id": "tf-64rtu3s5qzdbpcwzdih4ixhdaa",
                        "attributes": {
                            "address": "tf-64rtu3s5qzdbpcwzdih4ixhdaa.cdgiaj9wpqlq.us-west-2.rds.amazonaws.com",
                            "allocated_storage": "5",
                            "arn": "arn:aws:rds:us-west-2:351353229602:db:tf-64rtu3s5qzdbpcwzdih4ixhdaa",
                            "auto_minor_version_upgrade": "true",
                            "availability_zone": "us-west-2a",
                            "backup_retention_period": "0",
                            "backup_window": "07:44-08:14",
                            "copy_tags_to_snapshot": "false",
                            "db_subnet_group_name": "mysql",
                            "endpoint": "tf-64rtu3s5qzdbpcwzdih4ixhdaa.cdgiaj9wpqlq.us-west-2.rds.amazonaws.com:3306",
                            "engine": "mysql",
                            "engine_version": "5.6.27",
                            "id": "tf-64rtu3s5qzdbpcwzdih4ixhdaa",
                            "identifier": "tf-64rtu3s5qzdbpcwzdih4ixhdaa",
                            "instance_class": "db.t2.micro",
                            "license_model": "general-public-license",
                            "maintenance_window": "mon:11:51-mon:12:21",
                            "monitoring_interval": "0",
                            "multi_az": "true",
                            "name": "basicapp",
                            "option_group_name": "default:mysql-5-6",
                            "parameter_group_name": "default.mysql5.6",
                            "password": "password",
                            "port": "3306",
                            "publicly_accessible": "false",
                            "replicas.#": "0",
                            "replicate_source_db": "",
                            "security_group_names.#": "0",
                            "skip_final_snapshot": "true",
                            "status": "available",
                            "storage_encrypted": "false",
                            "storage_type": "standard",
                            "tags.#": "0",
                            "username": "admin",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.3701746719": "sg-934cb3f5"
                        }
                    }
                },
                "aws_db_subnet_group.mysql": {
                    "type": "aws_db_subnet_group",
                    "depends_on": [
                        "module.network"
                    ],
                    "primary": {
                        "id": "mysql",
                        "attributes": {
                            "arn": "arn:aws:rds:us-west-2:351353229602:subgrp:mysql",
                            "description": "Main group of private subnets",
                            "id": "mysql",
                            "name": "mysql",
                            "subnet_ids.#": "2",
                            "subnet_ids.2569693816": "subnet-e4af2d80",
                            "subnet_ids.4261549931": "subnet-bb0faacd",
                            "tags.#": "2",
                            "tags.app_name": "BasicApp",
                            "tags.environment": "dev"
                        }
                    }
                },
                "aws_elb.web_lb": {
                    "type": "aws_elb",
                    "depends_on": [
                        "aws_security_group.web",
                        "module.network",
                        "module.network"
                    ],
                    "primary": {
                        "id": "tf-lb-pzieauc7kfdrba3kgnmnepi3ga",
                        "attributes": {
                            "access_logs.#": "0",
                            "availability_zones.#": "2",
                            "availability_zones.221770259": "us-west-2b",
                            "availability_zones.2487133097": "us-west-2a",
                            "connection_draining": "false",
                            "connection_draining_timeout": "300",
                            "cross_zone_load_balancing": "true",
                            "dns_name": "tf-lb-pzieauc7kfdrba3kgnmnepi3ga-1452343936.us-west-2.elb.amazonaws.com",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "2",
                            "health_check.0.interval": "60",
                            "health_check.0.target": "HTTP:80/",
                            "health_check.0.timeout": "3",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "tf-lb-pzieauc7kfdrba3kgnmnepi3ga",
                            "idle_timeout": "60",
                            "instances.#": "2",
                            "instances.3081555253": "i-ebed1630",
                            "instances.387863758": "i-10425bbc",
                            "internal": "false",
                            "listener.#": "1",
                            "listener.3057123346.instance_port": "80",
                            "listener.3057123346.instance_protocol": "http",
                            "listener.3057123346.lb_port": "80",
                            "listener.3057123346.lb_protocol": "http",
                            "listener.3057123346.ssl_certificate_id": "",
                            "name": "tf-lb-pzieauc7kfdrba3kgnmnepi3ga",
                            "security_groups.#": "2",
                            "security_groups.1132000633": "sg-8f4cb3e9",
                            "security_groups.1444396048": "sg-954cb3f3",
                            "source_security_group": "351353229602/http",
                            "source_security_group_id": "sg-954cb3f3",
                            "subnets.#": "2",
                            "subnets.1368299605": "subnet-ba0faacc",
                            "subnets.231973831": "subnet-1baf2d7f",
                            "tags.#": "2",
                            "tags.app": "BasicApp",
                            "tags.env": "dev",
                            "zone_id": "Z33MTJ483KN6FU"
                        }
                    }
                },
                "aws_key_pair.private": {
                    "type": "aws_key_pair",
                    "primary": {
                        "id": "private-key",
                        "attributes": {
                            "fingerprint": "00:11:37:58:b0:62:45:08:bc:51:de:bd:cb:a4:82:b5",
                            "id": "private-key",
                            "key_name": "private-key",
                            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC7Ap+WYpiweykLmU9nj1WsLMDZGAwjCsh2ABzaOTijwyVPzLKoMGEfkhpLdWqqojltEamY0ooo8jHAQaSKbtdLi/dGZ/Fwa2TysNobYZm3ewxcGFLK+vq3bK+GNei26a6WSksgWARzGmY4wEoZowFjes+DdbJ9GsET4rRfC3SBNpB5U/N0Pq5uy+1Of24GmgnogcDCAUsOUv8ceKfmYhIBSd29mIdxKBF4fa03/lTdaQf140w9tAbC9rNTnoGiQZmDHZG8N+7MFn3MrznGonVmuSeiCYQQH+ftAVbbw51hvm8dPI2EL0X7wG9bKw8mS2+NR3Wm3a7/BPziY3V7d8Td ross.edman@28355-MBPR.local"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_route53_record.web": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_elb.web_lb",
                        "aws_elb.web_lb"
                    ],
                    "primary": {
                        "id": "Z139GCY2A7L56_rossedman.me_A",
                        "attributes": {
                            "alias.#": "1",
                            "alias.4048932396.evaluate_target_health": "true",
                            "alias.4048932396.name": "tf-lb-pzieauc7kfdrba3kgnmnepi3ga-1452343936.us-west-2.elb.amazonaws.com",
                            "alias.4048932396.zone_id": "Z33MTJ483KN6FU",
                            "failover": "",
                            "fqdn": "rossedman.me",
                            "health_check_id": "",
                            "id": "Z139GCY2A7L56_rossedman.me_A",
                            "name": "rossedman.me",
                            "records.#": "0",
                            "set_identifier": "",
                            "ttl": "0",
                            "type": "A",
                            "weight": "-1",
                            "zone_id": "Z139GCY2A7L56"
                        }
                    }
                },
                "aws_security_group.cache": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "module.network",
                        "module.network"
                    ],
                    "primary": {
                        "id": "sg-924cb3f4",
                        "attributes": {
                            "description": "Security group for Memcached",
                            "egress.#": "1",
                            "egress.2687439529.cidr_blocks.#": "0",
                            "egress.2687439529.from_port": "0",
                            "egress.2687439529.protocol": "-1",
                            "egress.2687439529.security_groups.#": "1",
                            "egress.2687439529.security_groups.1132000633": "sg-8f4cb3e9",
                            "egress.2687439529.self": "false",
                            "egress.2687439529.to_port": "0",
                            "id": "sg-924cb3f4",
                            "ingress.#": "1",
                            "ingress.231235834.cidr_blocks.#": "0",
                            "ingress.231235834.from_port": "11211",
                            "ingress.231235834.protocol": "tcp",
                            "ingress.231235834.security_groups.#": "1",
                            "ingress.231235834.security_groups.1132000633": "sg-8f4cb3e9",
                            "ingress.231235834.self": "false",
                            "ingress.231235834.to_port": "11211",
                            "name": "cache",
                            "owner_id": "351353229602",
                            "tags.#": "2",
                            "tags.app": "BasicApp",
                            "tags.env": "dev",
                            "vpc_id": "vpc-e64ccd82"
                        }
                    }
                },
                "aws_security_group.database": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "module.network",
                        "module.network"
                    ],
                    "primary": {
                        "id": "sg-934cb3f5",
                        "attributes": {
                            "description": "Security group for MySQL",
                            "egress.#": "1",
                            "egress.2687439529.cidr_blocks.#": "0",
                            "egress.2687439529.from_port": "0",
                            "egress.2687439529.protocol": "-1",
                            "egress.2687439529.security_groups.#": "1",
                            "egress.2687439529.security_groups.1132000633": "sg-8f4cb3e9",
                            "egress.2687439529.self": "false",
                            "egress.2687439529.to_port": "0",
                            "id": "sg-934cb3f5",
                            "ingress.#": "1",
                            "ingress.2079153697.cidr_blocks.#": "0",
                            "ingress.2079153697.from_port": "3306",
                            "ingress.2079153697.protocol": "tcp",
                            "ingress.2079153697.security_groups.#": "1",
                            "ingress.2079153697.security_groups.1132000633": "sg-8f4cb3e9",
                            "ingress.2079153697.self": "false",
                            "ingress.2079153697.to_port": "3306",
                            "name": "mysql",
                            "owner_id": "351353229602",
                            "tags.#": "2",
                            "tags.app": "BasicApp",
                            "tags.env": "dev",
                            "vpc_id": "vpc-e64ccd82"
                        }
                    }
                },
                "aws_security_group.web": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "module.network"
                    ],
                    "primary": {
                        "id": "sg-954cb3f3",
                        "attributes": {
                            "description": "Security group for ELB",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-954cb3f3",
                            "ingress.#": "1",
                            "ingress.2214680975.cidr_blocks.#": "1",
                            "ingress.2214680975.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2214680975.from_port": "80",
                            "ingress.2214680975.protocol": "tcp",
                            "ingress.2214680975.security_groups.#": "0",
                            "ingress.2214680975.self": "false",
                            "ingress.2214680975.to_port": "80",
                            "name": "http",
                            "owner_id": "351353229602",
                            "tags.#": "2",
                            "tags.app": "BasicApp",
                            "tags.env": "dev",
                            "vpc_id": "vpc-e64ccd82"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "asg"
            ],
            "outputs": {
                "id": "tf-asg-kakjcn544rdfjb4l2352gcflmq"
            },
            "resources": {
                "aws_autoscaling_group.web": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_launch_configuration.as_conf"
                    ],
                    "primary": {
                        "id": "tf-asg-kakjcn544rdfjb4l2352gcflmq",
                        "attributes": {
                            "availability_zones.#": "2",
                            "availability_zones.221770259": "us-west-2b",
                            "availability_zones.2487133097": "us-west-2a",
                            "default_cooldown": "300",
                            "desired_capacity": "4",
                            "force_delete": "false",
                            "health_check_grace_period": "300",
                            "health_check_type": "ELB",
                            "id": "tf-asg-kakjcn544rdfjb4l2352gcflmq",
                            "launch_configuration": "terraform-pktf4o2nbnbqjceivbvfdpq72u",
                            "load_balancers.#": "1",
                            "load_balancers.2747421378": "tf-lb-pzieauc7kfdrba3kgnmnepi3ga",
                            "max_size": "6",
                            "metrics_granularity": "1Minute",
                            "min_size": "2",
                            "name": "tf-asg-kakjcn544rdfjb4l2352gcflmq",
                            "placement_group": "",
                            "tag.#": "3",
                            "tag.1633481578.key": "app",
                            "tag.1633481578.propagate_at_launch": "true",
                            "tag.1633481578.value": "BasicApp",
                            "tag.519719603.key": "env",
                            "tag.519719603.propagate_at_launch": "true",
                            "tag.519719603.value": "dev",
                            "tag.748199428.key": "role",
                            "tag.748199428.propagate_at_launch": "true",
                            "tag.748199428.value": "web",
                            "termination_policies.#": "0",
                            "vpc_zone_identifier.#": "2",
                            "vpc_zone_identifier.2569693816": "subnet-e4af2d80",
                            "vpc_zone_identifier.4261549931": "subnet-bb0faacd",
                            "wait_for_capacity_timeout": "10m"
                        }
                    }
                },
                "aws_autoscaling_policy.add_capacity": {
                    "type": "aws_autoscaling_policy",
                    "depends_on": [
                        "aws_autoscaling_group.web"
                    ],
                    "primary": {
                        "id": "AddCapacityPolicy",
                        "attributes": {
                            "adjustment_type": "ChangeInCapacity",
                            "arn": "arn:aws:autoscaling:us-west-2:351353229602:scalingPolicy:f93572fa-62ec-4d98-bab1-a8f64d3c5184:autoScalingGroupName/tf-asg-kakjcn544rdfjb4l2352gcflmq:policyName/AddCapacityPolicy",
                            "autoscaling_group_name": "tf-asg-kakjcn544rdfjb4l2352gcflmq",
                            "cooldown": "300",
                            "estimated_instance_warmup": "0",
                            "id": "AddCapacityPolicy",
                            "metric_aggregation_type": "",
                            "min_adjustment_step": "0",
                            "name": "AddCapacityPolicy",
                            "policy_type": "SimpleScaling",
                            "scaling_adjustment": "1",
                            "step_adjustment.#": "0"
                        }
                    }
                },
                "aws_autoscaling_policy.remove_capacity": {
                    "type": "aws_autoscaling_policy",
                    "depends_on": [
                        "aws_autoscaling_group.web"
                    ],
                    "primary": {
                        "id": "RemoveCapacityPolicy",
                        "attributes": {
                            "adjustment_type": "ChangeInCapacity",
                            "arn": "arn:aws:autoscaling:us-west-2:351353229602:scalingPolicy:5bbe7c68-2fdf-4adc-8e3c-d76a08a7da6f:autoScalingGroupName/tf-asg-kakjcn544rdfjb4l2352gcflmq:policyName/RemoveCapacityPolicy",
                            "autoscaling_group_name": "tf-asg-kakjcn544rdfjb4l2352gcflmq",
                            "cooldown": "300",
                            "estimated_instance_warmup": "0",
                            "id": "RemoveCapacityPolicy",
                            "metric_aggregation_type": "",
                            "min_adjustment_step": "0",
                            "name": "RemoveCapacityPolicy",
                            "policy_type": "SimpleScaling",
                            "scaling_adjustment": "-1",
                            "step_adjustment.#": "0"
                        }
                    }
                },
                "aws_cloudwatch_metric_alarm.add_capacity": {
                    "type": "aws_cloudwatch_metric_alarm",
                    "depends_on": [
                        "aws_autoscaling_group.web",
                        "aws_autoscaling_policy.add_capacity"
                    ],
                    "primary": {
                        "id": "AddCapacityAlert",
                        "attributes": {
                            "actions_enabled": "true",
                            "alarm_actions.#": "1",
                            "alarm_actions.3209208354": "arn:aws:autoscaling:us-west-2:351353229602:scalingPolicy:f93572fa-62ec-4d98-bab1-a8f64d3c5184:autoScalingGroupName/tf-asg-kakjcn544rdfjb4l2352gcflmq:policyName/AddCapacityPolicy",
                            "alarm_description": "This metric monitor ec2 cpu utilization",
                            "alarm_name": "AddCapacityAlert",
                            "comparison_operator": "GreaterThanOrEqualToThreshold",
                            "dimensions.#": "1",
                            "dimensions.AutoScalingGroupName": "tf-asg-kakjcn544rdfjb4l2352gcflmq",
                            "evaluation_periods": "2",
                            "id": "AddCapacityAlert",
                            "insufficient_data_actions.#": "0",
                            "metric_name": "CPUUtilization",
                            "namespace": "AWS/EC2",
                            "ok_actions.#": "0",
                            "period": "120",
                            "statistic": "Average",
                            "threshold": "50",
                            "unit": ""
                        }
                    }
                },
                "aws_cloudwatch_metric_alarm.remove_capacity": {
                    "type": "aws_cloudwatch_metric_alarm",
                    "depends_on": [
                        "aws_autoscaling_group.web",
                        "aws_autoscaling_policy.remove_capacity"
                    ],
                    "primary": {
                        "id": "RemoveCapacityAlert",
                        "attributes": {
                            "actions_enabled": "true",
                            "alarm_actions.#": "1",
                            "alarm_actions.2172640575": "arn:aws:autoscaling:us-west-2:351353229602:scalingPolicy:5bbe7c68-2fdf-4adc-8e3c-d76a08a7da6f:autoScalingGroupName/tf-asg-kakjcn544rdfjb4l2352gcflmq:policyName/RemoveCapacityPolicy",
                            "alarm_description": "This metric monitor ec2 cpu utilization",
                            "alarm_name": "RemoveCapacityAlert",
                            "comparison_operator": "LessThanThreshold",
                            "dimensions.#": "1",
                            "dimensions.AutoScalingGroupName": "tf-asg-kakjcn544rdfjb4l2352gcflmq",
                            "evaluation_periods": "2",
                            "id": "RemoveCapacityAlert",
                            "insufficient_data_actions.#": "0",
                            "metric_name": "CPUUtilization",
                            "namespace": "AWS/EC2",
                            "ok_actions.#": "0",
                            "period": "120",
                            "statistic": "Average",
                            "threshold": "30",
                            "unit": ""
                        }
                    }
                },
                "aws_iam_instance_profile.ec2": {
                    "type": "aws_iam_instance_profile",
                    "depends_on": [
                        "aws_iam_role.ec2"
                    ],
                    "primary": {
                        "id": "EC2DeployInstance",
                        "attributes": {
                            "arn": "arn:aws:iam::351353229602:instance-profile/EC2DeployInstance",
                            "id": "EC2DeployInstance",
                            "name": "EC2DeployInstance",
                            "path": "/",
                            "roles.#": "1",
                            "roles.582083246": "EC2DeployRole"
                        }
                    }
                },
                "aws_iam_role.ec2": {
                    "type": "aws_iam_role",
                    "primary": {
                        "id": "EC2DeployRole",
                        "attributes": {
                            "arn": "arn:aws:iam::351353229602:role/EC2DeployRole",
                            "assume_role_policy": "{\n  \"Version\": \"2008-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n",
                            "id": "EC2DeployRole",
                            "name": "EC2DeployRole",
                            "path": "/",
                            "unique_id": "AROAJEYVDOIJ663LFUKH4"
                        }
                    }
                },
                "aws_iam_role_policy.ec2": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.ec2"
                    ],
                    "primary": {
                        "id": "EC2DeployRole:EC2DeployPolicy",
                        "attributes": {
                            "id": "EC2DeployRole:EC2DeployPolicy",
                            "name": "EC2DeployPolicy",
                            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ssm:DescribeAssociation\",\n                \"ssm:GetDocument\",\n                \"ssm:ListAssociations\",\n                \"ssm:UpdateAssociationStatus\",\n                \"ssm:UpdateInstanceInformation\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2messages:AcknowledgeMessage\",\n                \"ec2messages:DeleteMessage\",\n                \"ec2messages:FailMessage\",\n                \"ec2messages:GetEndpoint\",\n                \"ec2messages:GetMessages\",\n                \"ec2messages:SendReply\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"cloudwatch:PutMetricData\",\n                \"cloudwatch:GetMetricStatistics\",\n                \"cloudwatch:ListMetrics\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2:DescribeInstanceStatus\",\n                \"ec2:DescribeTags\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ds:CreateComputer\",\n                \"ds:DescribeDirectories\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"logs:CreateLogGroup\",\n                \"logs:CreateLogStream\",\n                \"logs:DescribeLogGroups\",\n                \"logs:DescribeLogStreams\",\n                \"logs:PutLogEvents\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"s3:Put*\",\n                \"s3:Get*\",\n                \"s3:List*\",\n                \"s3:AbortMultipartUpload\"\n            ],\n            \"Resource\": \"*\"\n        }\n    ]\n}\n",
                            "role": "EC2DeployRole"
                        }
                    }
                },
                "aws_launch_configuration.as_conf": {
                    "type": "aws_launch_configuration",
                    "depends_on": [
                        "aws_iam_instance_profile.ec2"
                    ],
                    "primary": {
                        "id": "terraform-pktf4o2nbnbqjceivbvfdpq72u",
                        "attributes": {
                            "associate_public_ip_address": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "enable_monitoring": "true",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "EC2DeployInstance",
                            "id": "terraform-pktf4o2nbnbqjceivbvfdpq72u",
                            "image_id": "ami-d0f506b0",
                            "instance_type": "t2.micro",
                            "key_name": "private-key",
                            "name": "terraform-pktf4o2nbnbqjceivbvfdpq72u",
                            "root_block_device.#": "0",
                            "security_groups.#": "2",
                            "security_groups.1132000633": "sg-8f4cb3e9",
                            "security_groups.1444396048": "sg-954cb3f3",
                            "spot_price": "",
                            "user_data": "7d421d6bdaffcf18e1d1644587c4006b1afe1370"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "bastion"
            ],
            "outputs": {
                "ip": "52.24.57.52"
            },
            "resources": {
                "aws_instance.bastion": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_key_pair.bastion",
                        "aws_security_group.bastion"
                    ],
                    "primary": {
                        "id": "i-71eb10aa",
                        "attributes": {
                            "ami": "ami-d0f506b0",
                            "associate_public_ip_address": "true",
                            "availability_zone": "us-west-2a",
                            "disable_api_termination": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "i-71eb10aa",
                            "instance_state": "running",
                            "instance_type": "t2.micro",
                            "key_name": "bastion-key",
                            "monitoring": "false",
                            "private_dns": "ip-10-128-10-182.us-west-2.compute.internal",
                            "private_ip": "10.128.10.182",
                            "public_dns": "ec2-52-24-57-52.us-west-2.compute.amazonaws.com",
                            "public_ip": "52.24.57.52",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "24",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "false",
                            "subnet_id": "subnet-ba0faacc",
                            "tags.#": "4",
                            "tags.Name": "bastion",
                            "tags.app": "BasicApp",
                            "tags.env": "dev",
                            "tags.role": "bastion",
                            "tenancy": "default",
                            "vpc_security_group_ids.#": "2",
                            "vpc_security_group_ids.1132000633": "sg-8f4cb3e9",
                            "vpc_security_group_ids.2271708978": "sg-944cb3f2"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_key_pair.bastion": {
                    "type": "aws_key_pair",
                    "primary": {
                        "id": "bastion-key",
                        "attributes": {
                            "fingerprint": "47:ca:76:12:66:b4:7a:b7:1d:4d:ea:c2:3f:52:b8:6f",
                            "id": "bastion-key",
                            "key_name": "bastion-key",
                            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDRpOgQnwxot9ulcfFufVv7cq+Q6+B6VDSOqZM7f1RXZsbNOMz0qdVsvptCGiGVo7Gn4UKWauzQKiG/BwnSUi8UM5MY2qQSOEVYYBJBtUEL+Ld1ey5G86sYYv2fxUiHz/hMt7gwNeEaWnPKzB3fIW3c6kYCQhLJqrezFsihAoe9c9esKsRzrkO8CJhThHi2dqGyNVNcXbOAHXxqce8/HADIaXiaVLHkvNaWb2ZXj2S5hbGIjfVuIesrsCpA/VfKQ34YFV/vOplOvbuEot1fMjqNiL4RQTWOwxGerBEYW0T7+FKRZCVmm2q0sLh1wJCrf8SFBl+E/UcTkXYm58M+kS/b ross.edman@28355-MBPR.local"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_security_group.bastion": {
                    "type": "aws_security_group",
                    "primary": {
                        "id": "sg-944cb3f2",
                        "attributes": {
                            "description": "Security group for bastion instances that allows SSH traffic. Allows outbound SSH to other instances in the CIDR block",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-944cb3f2",
                            "ingress.#": "2",
                            "ingress.2792824341.cidr_blocks.#": "1",
                            "ingress.2792824341.cidr_blocks.0": "10.128.0.0/16",
                            "ingress.2792824341.from_port": "0",
                            "ingress.2792824341.protocol": "-1",
                            "ingress.2792824341.security_groups.#": "0",
                            "ingress.2792824341.self": "false",
                            "ingress.2792824341.to_port": "0",
                            "ingress.2944466505.cidr_blocks.#": "2",
                            "ingress.2944466505.cidr_blocks.0": "76.183.238.0/24",
                            "ingress.2944466505.cidr_blocks.1": "12.25.104.0/24",
                            "ingress.2944466505.from_port": "22",
                            "ingress.2944466505.protocol": "tcp",
                            "ingress.2944466505.security_groups.#": "0",
                            "ingress.2944466505.self": "false",
                            "ingress.2944466505.to_port": "22",
                            "name": "bastion",
                            "owner_id": "351353229602",
                            "tags.#": "2",
                            "tags.app": "BasicApp",
                            "tags.env": "dev",
                            "vpc_id": "vpc-e64ccd82"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "codedeploy"
            ],
            "outputs": {},
            "resources": {
                "aws_codedeploy_app.app": {
                    "type": "aws_codedeploy_app",
                    "primary": {
                        "id": "6f443379-1038-465b-9760-5cc490fa2845:BasicApp",
                        "attributes": {
                            "id": "6f443379-1038-465b-9760-5cc490fa2845:BasicApp",
                            "name": "BasicApp"
                        }
                    }
                },
                "aws_codedeploy_deployment_group.web": {
                    "type": "aws_codedeploy_deployment_group",
                    "depends_on": [
                        "aws_codedeploy_app.app",
                        "aws_iam_role.code_deploy"
                    ],
                    "primary": {
                        "id": "164c04f0-dc42-440d-849f-d9a23d704b19",
                        "attributes": {
                            "app_name": "BasicApp",
                            "autoscaling_groups.#": "1",
                            "autoscaling_groups.71153441": "tf-asg-kakjcn544rdfjb4l2352gcflmq",
                            "deployment_config_name": "CodeDeployDefault.OneAtATime",
                            "deployment_group_name": "web",
                            "ec2_tag_filter.#": "0",
                            "id": "164c04f0-dc42-440d-849f-d9a23d704b19",
                            "on_premises_instance_tag_filter.#": "0",
                            "service_role_arn": "arn:aws:iam::351353229602:role/CodeDeployRole",
                            "trigger_configuration.#": "0"
                        }
                    }
                },
                "aws_iam_role.code_deploy": {
                    "type": "aws_iam_role",
                    "primary": {
                        "id": "CodeDeployRole",
                        "attributes": {
                            "arn": "arn:aws:iam::351353229602:role/CodeDeployRole",
                            "assume_role_policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": [\n          \"codedeploy.amazonaws.com\"\n        ]\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n",
                            "id": "CodeDeployRole",
                            "name": "CodeDeployRole",
                            "path": "/",
                            "unique_id": "AROAIXJ4EX7NUPS4TXDPQ"
                        }
                    }
                },
                "aws_iam_role_policy.code_deploy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.code_deploy"
                    ],
                    "primary": {
                        "id": "CodeDeployRole:CodeDeployPolicy",
                        "attributes": {
                            "id": "CodeDeployRole:CodeDeployPolicy",
                            "name": "CodeDeployPolicy",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"autoscaling:CompleteLifecycleAction\",\n        \"autoscaling:DeleteLifecycleHook\",\n        \"autoscaling:DescribeAutoScalingGroups\",\n        \"autoscaling:DescribeLifecycleHooks\",\n        \"autoscaling:PutLifecycleHook\",\n        \"autoscaling:RecordLifecycleActionHeartbeat\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:DescribeInstances\",\n        \"ec2:DescribeInstanceStatus\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"tag:GetTags\",\n        \"tag:GetResources\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}\n",
                            "role": "CodeDeployRole"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network"
            ],
            "outputs": {
                "dns_zone": "Z3L6R3FM7L7VEP",
                "private_ids": "subnet-bb0faacd,subnet-e4af2d80",
                "public_ids": "subnet-ba0faacc,subnet-1baf2d7f",
                "vpc_cidr": "10.128.0.0/16",
                "vpc_gateway_id": "igw-974653f2",
                "vpc_id": "vpc-e64ccd82",
                "vpc_nacl_id": "acl-ac2bb6c8",
                "vpc_sg": "sg-8f4cb3e9"
            },
            "resources": {
                "aws_route53_zone.private": {
                    "type": "aws_route53_zone",
                    "depends_on": [
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "Z3L6R3FM7L7VEP",
                        "attributes": {
                            "comment": "Managed by Terraform",
                            "id": "Z3L6R3FM7L7VEP",
                            "name": "rossedman.internal",
                            "name_servers.#": "4",
                            "name_servers.0": "ns-0.awsdns-00.com.",
                            "name_servers.1": "ns-1024.awsdns-00.org.",
                            "name_servers.2": "ns-1536.awsdns-00.co.uk.",
                            "name_servers.3": "ns-512.awsdns-00.net.",
                            "tags.#": "0",
                            "vpc_id": "vpc-e64ccd82",
                            "vpc_region": "us-west-2",
                            "zone_id": "Z3L6R3FM7L7VEP"
                        }
                    }
                },
                "aws_route_table.private.0": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "module.nat_gateways",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "rtb-1e30457a",
                        "attributes": {
                            "id": "rtb-1e30457a",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.2500946520.cidr_block": "0.0.0.0/0",
                            "route.2500946520.gateway_id": "",
                            "route.2500946520.instance_id": "",
                            "route.2500946520.nat_gateway_id": "nat-094350a86351ec8aa",
                            "route.2500946520.network_interface_id": "",
                            "route.2500946520.vpc_peering_connection_id": "",
                            "tags.#": "2",
                            "tags.app": "BasicApp",
                            "tags.env": "dev",
                            "vpc_id": "vpc-e64ccd82"
                        }
                    }
                },
                "aws_route_table.private.1": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "module.nat_gateways",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "rtb-1f30457b",
                        "attributes": {
                            "id": "rtb-1f30457b",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.831472360.cidr_block": "0.0.0.0/0",
                            "route.831472360.gateway_id": "",
                            "route.831472360.instance_id": "",
                            "route.831472360.nat_gateway_id": "nat-0e40e8c80c86fc2e0",
                            "route.831472360.network_interface_id": "",
                            "route.831472360.vpc_peering_connection_id": "",
                            "tags.#": "2",
                            "tags.app": "BasicApp",
                            "tags.env": "dev",
                            "vpc_id": "vpc-e64ccd82"
                        }
                    }
                },
                "aws_route_table.public": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "module.vpc",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "rtb-6d304509",
                        "attributes": {
                            "id": "rtb-6d304509",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.3568736038.cidr_block": "0.0.0.0/0",
                            "route.3568736038.gateway_id": "igw-974653f2",
                            "route.3568736038.instance_id": "",
                            "route.3568736038.nat_gateway_id": "",
                            "route.3568736038.network_interface_id": "",
                            "route.3568736038.vpc_peering_connection_id": "",
                            "tags.#": "2",
                            "tags.app": "BasicApp",
                            "tags.env": "dev",
                            "vpc_id": "vpc-e64ccd82"
                        }
                    }
                },
                "aws_route_table_association.private.0": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private",
                        "module.subnets_private"
                    ],
                    "primary": {
                        "id": "rtbassoc-479c7a20",
                        "attributes": {
                            "id": "rtbassoc-479c7a20",
                            "route_table_id": "rtb-1e30457a",
                            "subnet_id": "subnet-bb0faacd"
                        }
                    }
                },
                "aws_route_table_association.private.1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private",
                        "module.subnets_private"
                    ],
                    "primary": {
                        "id": "rtbassoc-789c7a1f",
                        "attributes": {
                            "id": "rtbassoc-789c7a1f",
                            "route_table_id": "rtb-1f30457b",
                            "subnet_id": "subnet-e4af2d80"
                        }
                    }
                },
                "aws_route_table_association.public.0": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "module.subnets_public"
                    ],
                    "primary": {
                        "id": "rtbassoc-cb9f79ac",
                        "attributes": {
                            "id": "rtbassoc-cb9f79ac",
                            "route_table_id": "rtb-6d304509",
                            "subnet_id": "subnet-ba0faacc"
                        }
                    }
                },
                "aws_route_table_association.public.1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "module.subnets_public"
                    ],
                    "primary": {
                        "id": "rtbassoc-cc9f79ab",
                        "attributes": {
                            "id": "rtbassoc-cc9f79ab",
                            "route_table_id": "rtb-6d304509",
                            "subnet_id": "subnet-1baf2d7f"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network",
                "nat_gateways"
            ],
            "outputs": {
                "ids": "nat-094350a86351ec8aa,nat-0e40e8c80c86fc2e0",
                "ips": "eipalloc-749ae110,eipalloc-759ae111"
            },
            "resources": {
                "aws_eip.nat.0": {
                    "type": "aws_eip",
                    "primary": {
                        "id": "eipalloc-749ae110",
                        "attributes": {
                            "association_id": "eipassoc-7f3dd206",
                            "domain": "vpc",
                            "id": "eipalloc-749ae110",
                            "instance": "",
                            "network_interface": "eni-64e7c829",
                            "private_ip": "10.128.10.62",
                            "public_ip": "52.35.128.154",
                            "vpc": "true"
                        }
                    }
                },
                "aws_eip.nat.1": {
                    "type": "aws_eip",
                    "primary": {
                        "id": "eipalloc-759ae111",
                        "attributes": {
                            "association_id": "eipassoc-3924cb40",
                            "domain": "vpc",
                            "id": "eipalloc-759ae111",
                            "instance": "",
                            "network_interface": "eni-ac1675d6",
                            "private_ip": "10.128.20.248",
                            "public_ip": "52.39.126.185",
                            "vpc": "true"
                        }
                    }
                },
                "aws_nat_gateway.nat.0": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.nat"
                    ],
                    "primary": {
                        "id": "nat-094350a86351ec8aa",
                        "attributes": {
                            "allocation_id": "eipalloc-749ae110",
                            "id": "nat-094350a86351ec8aa",
                            "network_interface_id": "eni-64e7c829",
                            "private_ip": "10.128.10.62",
                            "public_ip": "52.35.128.154",
                            "subnet_id": "subnet-ba0faacc"
                        }
                    }
                },
                "aws_nat_gateway.nat.1": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.nat"
                    ],
                    "primary": {
                        "id": "nat-0e40e8c80c86fc2e0",
                        "attributes": {
                            "allocation_id": "eipalloc-759ae111",
                            "id": "nat-0e40e8c80c86fc2e0",
                            "network_interface_id": "eni-ac1675d6",
                            "private_ip": "10.128.20.248",
                            "public_ip": "52.39.126.185",
                            "subnet_id": "subnet-1baf2d7f"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network",
                "subnets_private"
            ],
            "outputs": {
                "ids": "subnet-bb0faacd,subnet-e4af2d80"
            },
            "resources": {
                "aws_subnet.mod.0": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-bb0faacd",
                        "attributes": {
                            "availability_zone": "us-west-2a",
                            "cidr_block": "10.128.11.0/24",
                            "id": "subnet-bb0faacd",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "2",
                            "tags.app": "BasicApp",
                            "tags.env": "dev",
                            "vpc_id": "vpc-e64ccd82"
                        }
                    }
                },
                "aws_subnet.mod.1": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-e4af2d80",
                        "attributes": {
                            "availability_zone": "us-west-2b",
                            "cidr_block": "10.128.21.0/24",
                            "id": "subnet-e4af2d80",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "2",
                            "tags.app": "BasicApp",
                            "tags.env": "dev",
                            "vpc_id": "vpc-e64ccd82"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network",
                "subnets_public"
            ],
            "outputs": {
                "ids": "subnet-ba0faacc,subnet-1baf2d7f"
            },
            "resources": {
                "aws_subnet.mod.0": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-ba0faacc",
                        "attributes": {
                            "availability_zone": "us-west-2a",
                            "cidr_block": "10.128.10.0/24",
                            "id": "subnet-ba0faacc",
                            "map_public_ip_on_launch": "true",
                            "tags.#": "2",
                            "tags.app": "BasicApp",
                            "tags.env": "dev",
                            "vpc_id": "vpc-e64ccd82"
                        }
                    }
                },
                "aws_subnet.mod.1": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-1baf2d7f",
                        "attributes": {
                            "availability_zone": "us-west-2b",
                            "cidr_block": "10.128.20.0/24",
                            "id": "subnet-1baf2d7f",
                            "map_public_ip_on_launch": "true",
                            "tags.#": "2",
                            "tags.app": "BasicApp",
                            "tags.env": "dev",
                            "vpc_id": "vpc-e64ccd82"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network",
                "vpc"
            ],
            "outputs": {
                "cidr": "10.128.0.0/16",
                "gateway_id": "igw-974653f2",
                "id": "vpc-e64ccd82",
                "nacl_id": "acl-ac2bb6c8",
                "sg_id": "sg-8f4cb3e9"
            },
            "resources": {
                "aws_internet_gateway.default": {
                    "type": "aws_internet_gateway",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "igw-974653f2",
                        "attributes": {
                            "id": "igw-974653f2",
                            "tags.#": "3",
                            "tags.Name": "dev-internet-gateway",
                            "tags.app": "BasicApp",
                            "tags.env": "dev",
                            "vpc_id": "vpc-e64ccd82"
                        }
                    }
                },
                "aws_vpc.default": {
                    "type": "aws_vpc",
                    "primary": {
                        "id": "vpc-e64ccd82",
                        "attributes": {
                            "cidr_block": "10.128.0.0/16",
                            "default_network_acl_id": "acl-ac2bb6c8",
                            "default_security_group_id": "sg-8f4cb3e9",
                            "dhcp_options_id": "dopt-6e74dc0b",
                            "enable_classiclink": "false",
                            "enable_dns_hostnames": "true",
                            "enable_dns_support": "true",
                            "id": "vpc-e64ccd82",
                            "instance_tenancy": "default",
                            "main_route_table_id": "rtb-9a3144fe",
                            "tags.#": "3",
                            "tags.Name": "dev-vpc",
                            "tags.app": "BasicApp",
                            "tags.env": "dev"
                        }
                    }
                }
            }
        }
    ]
}
