{
    "version": 1,
    "serial": 1,
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {
                "address": "tf-lb-b6nz34ysljgyzdlkolxc5k4pum-984625398.us-west-2.elb.amazonaws.com",
                "bastion_ip": "52.27.143.85"
            },
            "resources": {
                "aws_codedeploy_app.app": {
                    "type": "aws_codedeploy_app",
                    "primary": {
                        "id": "934f8f36-ad42-402b-a3db-e04a9191910f:laravel",
                        "attributes": {
                            "id": "934f8f36-ad42-402b-a3db-e04a9191910f:laravel",
                            "name": "laravel"
                        }
                    }
                },
                "aws_elb.web_lb": {
                    "type": "aws_elb",
                    "depends_on": [
                        "aws_security_group.web",
                        "module.network",
                        "module.network"
                    ],
                    "primary": {
                        "id": "tf-lb-b6nz34ysljgyzdlkolxc5k4pum",
                        "attributes": {
                            "access_logs.#": "0",
                            "availability_zones.#": "2",
                            "availability_zones.221770259": "us-west-2b",
                            "availability_zones.2487133097": "us-west-2a",
                            "connection_draining": "false",
                            "connection_draining_timeout": "300",
                            "cross_zone_load_balancing": "true",
                            "dns_name": "tf-lb-b6nz34ysljgyzdlkolxc5k4pum-984625398.us-west-2.elb.amazonaws.com",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "2",
                            "health_check.0.interval": "30",
                            "health_check.0.target": "HTTP:80/",
                            "health_check.0.timeout": "3",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "tf-lb-b6nz34ysljgyzdlkolxc5k4pum",
                            "idle_timeout": "60",
                            "instances.#": "0",
                            "internal": "false",
                            "listener.#": "1",
                            "listener.3057123346.instance_port": "80",
                            "listener.3057123346.instance_protocol": "http",
                            "listener.3057123346.lb_port": "80",
                            "listener.3057123346.lb_protocol": "http",
                            "listener.3057123346.ssl_certificate_id": "",
                            "name": "tf-lb-b6nz34ysljgyzdlkolxc5k4pum",
                            "security_groups.#": "2",
                            "security_groups.2031715372": "sg-8b3ac5ed",
                            "security_groups.2571532104": "sg-813ac5e7",
                            "source_security_group": "351353229602/default",
                            "source_security_group_id": "sg-813ac5e7",
                            "subnets.#": "2",
                            "subnets.1055969256": "subnet-7b2a8f0d",
                            "subnets.1451097280": "subnet-5f8c0e3b",
                            "tags.#": "2",
                            "tags.app": "laravel",
                            "tags.env": "dev",
                            "zone_id": "Z33MTJ483KN6FU"
                        }
                    }
                },
                "aws_key_pair.private": {
                    "type": "aws_key_pair",
                    "primary": {
                        "id": "private-key",
                        "attributes": {
                            "id": "private-key",
                            "key_name": "private-key",
                            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC7Ap+WYpiweykLmU9nj1WsLMDZGAwjCsh2ABzaOTijwyVPzLKoMGEfkhpLdWqqojltEamY0ooo8jHAQaSKbtdLi/dGZ/Fwa2TysNobYZm3ewxcGFLK+vq3bK+GNei26a6WSksgWARzGmY4wEoZowFjes+DdbJ9GsET4rRfC3SBNpB5U/N0Pq5uy+1Of24GmgnogcDCAUsOUv8ceKfmYhIBSd29mIdxKBF4fa03/lTdaQf140w9tAbC9rNTnoGiQZmDHZG8N+7MFn3MrznGonVmuSeiCYQQH+ftAVbbw51hvm8dPI2EL0X7wG9bKw8mS2+NR3Wm3a7/BPziY3V7d8Td ross.edman@28355-MBPR.local"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_s3_bucket.code_storage": {
                    "type": "aws_s3_bucket",
                    "primary": {
                        "id": "dev.rossedman.internal",
                        "attributes": {
                            "acl": "private",
                            "arn": "arn:aws:s3:::dev.rossedman.internal",
                            "bucket": "dev.rossedman.internal",
                            "cors_rule.#": "0",
                            "force_destroy": "false",
                            "hosted_zone_id": "Z3BJ6K6RIION7M",
                            "id": "dev.rossedman.internal",
                            "policy": "",
                            "region": "us-west-2",
                            "tags.#": "0",
                            "website.#": "0"
                        }
                    }
                },
                "aws_security_group.web": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "module.network"
                    ],
                    "primary": {
                        "id": "sg-8b3ac5ed",
                        "attributes": {
                            "description": "Security group for ELB",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-8b3ac5ed",
                            "ingress.#": "2",
                            "ingress.2214680975.cidr_blocks.#": "1",
                            "ingress.2214680975.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2214680975.from_port": "80",
                            "ingress.2214680975.protocol": "tcp",
                            "ingress.2214680975.security_groups.#": "0",
                            "ingress.2214680975.self": "false",
                            "ingress.2214680975.to_port": "80",
                            "ingress.2617001939.cidr_blocks.#": "1",
                            "ingress.2617001939.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2617001939.from_port": "443",
                            "ingress.2617001939.protocol": "tcp",
                            "ingress.2617001939.security_groups.#": "0",
                            "ingress.2617001939.self": "false",
                            "ingress.2617001939.to_port": "443",
                            "name": "http",
                            "owner_id": "351353229602",
                            "tags.#": "2",
                            "tags.app": "laravel",
                            "tags.env": "dev",
                            "vpc_id": "vpc-138a0b77"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "bastion"
            ],
            "outputs": {
                "ip": "52.27.143.85"
            },
            "resources": {
                "aws_instance.bastion": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_key_pair.bastion",
                        "aws_security_group.bastion"
                    ],
                    "primary": {
                        "id": "i-2aab50f1",
                        "attributes": {
                            "ami": "ami-d0f506b0",
                            "associate_public_ip_address": "true",
                            "availability_zone": "us-west-2a",
                            "disable_api_termination": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "i-2aab50f1",
                            "instance_state": "running",
                            "instance_type": "t2.micro",
                            "key_name": "bastion-key",
                            "monitoring": "false",
                            "private_dns": "ip-10-128-10-108.us-west-2.compute.internal",
                            "private_ip": "10.128.10.108",
                            "public_dns": "ec2-52-27-143-85.us-west-2.compute.amazonaws.com",
                            "public_ip": "52.27.143.85",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "24",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "false",
                            "subnet_id": "subnet-7b2a8f0d",
                            "tags.#": "4",
                            "tags.Name": "bastion",
                            "tags.app": "laravel",
                            "tags.env": "dev",
                            "tags.role": "bastion",
                            "tenancy": "default",
                            "vpc_security_group_ids.#": "2",
                            "vpc_security_group_ids.2310734403": "sg-883ac5ee",
                            "vpc_security_group_ids.2571532104": "sg-813ac5e7"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_key_pair.bastion": {
                    "type": "aws_key_pair",
                    "primary": {
                        "id": "bastion-key",
                        "attributes": {
                            "id": "bastion-key",
                            "key_name": "bastion-key",
                            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDRpOgQnwxot9ulcfFufVv7cq+Q6+B6VDSOqZM7f1RXZsbNOMz0qdVsvptCGiGVo7Gn4UKWauzQKiG/BwnSUi8UM5MY2qQSOEVYYBJBtUEL+Ld1ey5G86sYYv2fxUiHz/hMt7gwNeEaWnPKzB3fIW3c6kYCQhLJqrezFsihAoe9c9esKsRzrkO8CJhThHi2dqGyNVNcXbOAHXxqce8/HADIaXiaVLHkvNaWb2ZXj2S5hbGIjfVuIesrsCpA/VfKQ34YFV/vOplOvbuEot1fMjqNiL4RQTWOwxGerBEYW0T7+FKRZCVmm2q0sLh1wJCrf8SFBl+E/UcTkXYm58M+kS/b ross.edman@28355-MBPR.local"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_security_group.bastion": {
                    "type": "aws_security_group",
                    "primary": {
                        "id": "sg-883ac5ee",
                        "attributes": {
                            "description": "Security group for bastion instances that allows SSH traffic. Allows outbound SSH to other instances in the CIDR block",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-883ac5ee",
                            "ingress.#": "2",
                            "ingress.2792824341.cidr_blocks.#": "1",
                            "ingress.2792824341.cidr_blocks.0": "10.128.0.0/16",
                            "ingress.2792824341.from_port": "0",
                            "ingress.2792824341.protocol": "-1",
                            "ingress.2792824341.security_groups.#": "0",
                            "ingress.2792824341.self": "false",
                            "ingress.2792824341.to_port": "0",
                            "ingress.2944466505.cidr_blocks.#": "2",
                            "ingress.2944466505.cidr_blocks.0": "76.183.238.0/24",
                            "ingress.2944466505.cidr_blocks.1": "12.25.104.0/24",
                            "ingress.2944466505.from_port": "22",
                            "ingress.2944466505.protocol": "tcp",
                            "ingress.2944466505.security_groups.#": "0",
                            "ingress.2944466505.self": "false",
                            "ingress.2944466505.to_port": "22",
                            "name": "bastion",
                            "owner_id": "351353229602",
                            "tags.#": "2",
                            "tags.app": "laravel",
                            "tags.env": "dev",
                            "vpc_id": "vpc-138a0b77"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network"
            ],
            "outputs": {
                "dns_zone": "ZNT8XP8OUOONL",
                "private_ids": "subnet-7a2a8f0c,subnet-588c0e3c",
                "public_ids": "subnet-7b2a8f0d,subnet-5f8c0e3b",
                "vpc_cidr": "10.128.0.0/16",
                "vpc_gateway_id": "igw-62b1bb07",
                "vpc_id": "vpc-138a0b77",
                "vpc_nacl_id": "acl-936cf1f7",
                "vpc_sg": "sg-813ac5e7"
            },
            "resources": {
                "aws_route53_zone.private": {
                    "type": "aws_route53_zone",
                    "depends_on": [
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "ZNT8XP8OUOONL",
                        "attributes": {
                            "comment": "Managed by Terraform",
                            "id": "ZNT8XP8OUOONL",
                            "name": "rossedman.internal",
                            "name_servers.#": "4",
                            "name_servers.0": "ns-0.awsdns-00.com.",
                            "name_servers.1": "ns-1024.awsdns-00.org.",
                            "name_servers.2": "ns-1536.awsdns-00.co.uk.",
                            "name_servers.3": "ns-512.awsdns-00.net.",
                            "tags.#": "0",
                            "vpc_id": "vpc-138a0b77",
                            "vpc_region": "us-west-2",
                            "zone_id": "ZNT8XP8OUOONL"
                        }
                    }
                },
                "aws_route_table.private.0": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "module.nat_gateways",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "rtb-1995ff7d",
                        "attributes": {
                            "id": "rtb-1995ff7d",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.2590883661.cidr_block": "0.0.0.0/0",
                            "route.2590883661.gateway_id": "",
                            "route.2590883661.instance_id": "",
                            "route.2590883661.nat_gateway_id": "nat-0ce681215115f58ca",
                            "route.2590883661.network_interface_id": "",
                            "route.2590883661.vpc_peering_connection_id": "",
                            "tags.#": "2",
                            "tags.app": "laravel",
                            "tags.env": "dev",
                            "vpc_id": "vpc-138a0b77"
                        }
                    }
                },
                "aws_route_table.private.1": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "module.nat_gateways",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "rtb-1a95ff7e",
                        "attributes": {
                            "id": "rtb-1a95ff7e",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.4129465323.cidr_block": "0.0.0.0/0",
                            "route.4129465323.gateway_id": "",
                            "route.4129465323.instance_id": "",
                            "route.4129465323.nat_gateway_id": "nat-03b37ee0a6cb7fd0a",
                            "route.4129465323.network_interface_id": "",
                            "route.4129465323.vpc_peering_connection_id": "",
                            "tags.#": "2",
                            "tags.app": "laravel",
                            "tags.env": "dev",
                            "vpc_id": "vpc-138a0b77"
                        }
                    }
                },
                "aws_route_table.public": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "module.vpc",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "rtb-9f94fefb",
                        "attributes": {
                            "id": "rtb-9f94fefb",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.2261101508.cidr_block": "0.0.0.0/0",
                            "route.2261101508.gateway_id": "igw-62b1bb07",
                            "route.2261101508.instance_id": "",
                            "route.2261101508.nat_gateway_id": "",
                            "route.2261101508.network_interface_id": "",
                            "route.2261101508.vpc_peering_connection_id": "",
                            "tags.#": "2",
                            "tags.app": "laravel",
                            "tags.env": "dev",
                            "vpc_id": "vpc-138a0b77"
                        }
                    }
                },
                "aws_route_table_association.private.0": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private",
                        "module.subnets_private"
                    ],
                    "primary": {
                        "id": "rtbassoc-0856b16f",
                        "attributes": {
                            "id": "rtbassoc-0856b16f",
                            "route_table_id": "rtb-1995ff7d",
                            "subnet_id": "subnet-7a2a8f0c"
                        }
                    }
                },
                "aws_route_table_association.private.1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.private",
                        "module.subnets_private"
                    ],
                    "primary": {
                        "id": "rtbassoc-1756b170",
                        "attributes": {
                            "id": "rtbassoc-1756b170",
                            "route_table_id": "rtb-1a95ff7e",
                            "subnet_id": "subnet-588c0e3c"
                        }
                    }
                },
                "aws_route_table_association.public.0": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "module.subnets_public"
                    ],
                    "primary": {
                        "id": "rtbassoc-8157b0e6",
                        "attributes": {
                            "id": "rtbassoc-8157b0e6",
                            "route_table_id": "rtb-9f94fefb",
                            "subnet_id": "subnet-7b2a8f0d"
                        }
                    }
                },
                "aws_route_table_association.public.1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.public",
                        "module.subnets_public"
                    ],
                    "primary": {
                        "id": "rtbassoc-8257b0e5",
                        "attributes": {
                            "id": "rtbassoc-8257b0e5",
                            "route_table_id": "rtb-9f94fefb",
                            "subnet_id": "subnet-5f8c0e3b"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network",
                "nat_gateways"
            ],
            "outputs": {
                "ids": "nat-0ce681215115f58ca,nat-03b37ee0a6cb7fd0a",
                "ips": "eipalloc-45601b21,eipalloc-b76912d3"
            },
            "resources": {
                "aws_eip.nat.0": {
                    "type": "aws_eip",
                    "primary": {
                        "id": "eipalloc-45601b21",
                        "attributes": {
                            "association_id": "",
                            "domain": "vpc",
                            "id": "eipalloc-45601b21",
                            "instance": "",
                            "network_interface": "",
                            "private_ip": "",
                            "public_ip": "52.39.196.198",
                            "vpc": "true"
                        }
                    }
                },
                "aws_eip.nat.1": {
                    "type": "aws_eip",
                    "primary": {
                        "id": "eipalloc-b76912d3",
                        "attributes": {
                            "association_id": "",
                            "domain": "vpc",
                            "id": "eipalloc-b76912d3",
                            "instance": "",
                            "network_interface": "",
                            "private_ip": "",
                            "public_ip": "52.39.173.193",
                            "vpc": "true"
                        }
                    }
                },
                "aws_nat_gateway.nat.0": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.nat"
                    ],
                    "primary": {
                        "id": "nat-0ce681215115f58ca",
                        "attributes": {
                            "allocation_id": "eipalloc-45601b21",
                            "id": "nat-0ce681215115f58ca",
                            "network_interface_id": "eni-1cd0fc51",
                            "private_ip": "10.128.10.38",
                            "public_ip": "52.39.196.198",
                            "subnet_id": "subnet-7b2a8f0d"
                        }
                    }
                },
                "aws_nat_gateway.nat.1": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.nat"
                    ],
                    "primary": {
                        "id": "nat-03b37ee0a6cb7fd0a",
                        "attributes": {
                            "allocation_id": "eipalloc-b76912d3",
                            "id": "nat-03b37ee0a6cb7fd0a",
                            "network_interface_id": "eni-e578189f",
                            "private_ip": "10.128.20.159",
                            "public_ip": "52.39.173.193",
                            "subnet_id": "subnet-5f8c0e3b"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network",
                "subnets_private"
            ],
            "outputs": {
                "ids": "subnet-7a2a8f0c,subnet-588c0e3c"
            },
            "resources": {
                "aws_subnet.mod.0": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-7a2a8f0c",
                        "attributes": {
                            "availability_zone": "us-west-2a",
                            "cidr_block": "10.128.11.0/24",
                            "id": "subnet-7a2a8f0c",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "2",
                            "tags.app": "laravel",
                            "tags.env": "dev",
                            "vpc_id": "vpc-138a0b77"
                        }
                    }
                },
                "aws_subnet.mod.1": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-588c0e3c",
                        "attributes": {
                            "availability_zone": "us-west-2b",
                            "cidr_block": "10.128.21.0/24",
                            "id": "subnet-588c0e3c",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "2",
                            "tags.app": "laravel",
                            "tags.env": "dev",
                            "vpc_id": "vpc-138a0b77"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network",
                "subnets_public"
            ],
            "outputs": {
                "ids": "subnet-7b2a8f0d,subnet-5f8c0e3b"
            },
            "resources": {
                "aws_subnet.mod.0": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-7b2a8f0d",
                        "attributes": {
                            "availability_zone": "us-west-2a",
                            "cidr_block": "10.128.10.0/24",
                            "id": "subnet-7b2a8f0d",
                            "map_public_ip_on_launch": "true",
                            "tags.#": "2",
                            "tags.app": "laravel",
                            "tags.env": "dev",
                            "vpc_id": "vpc-138a0b77"
                        }
                    }
                },
                "aws_subnet.mod.1": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-5f8c0e3b",
                        "attributes": {
                            "availability_zone": "us-west-2b",
                            "cidr_block": "10.128.20.0/24",
                            "id": "subnet-5f8c0e3b",
                            "map_public_ip_on_launch": "true",
                            "tags.#": "2",
                            "tags.app": "laravel",
                            "tags.env": "dev",
                            "vpc_id": "vpc-138a0b77"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network",
                "vpc"
            ],
            "outputs": {
                "cidr": "10.128.0.0/16",
                "gateway_id": "igw-62b1bb07",
                "id": "vpc-138a0b77",
                "nacl_id": "acl-936cf1f7",
                "sg_id": "sg-813ac5e7"
            },
            "resources": {
                "aws_internet_gateway.default": {
                    "type": "aws_internet_gateway",
                    "depends_on": [
                        "aws_vpc.default"
                    ],
                    "primary": {
                        "id": "igw-62b1bb07",
                        "attributes": {
                            "id": "igw-62b1bb07",
                            "tags.#": "3",
                            "tags.Name": "dev-internet-gateway",
                            "tags.app": "laravel",
                            "tags.env": "dev",
                            "vpc_id": "vpc-138a0b77"
                        }
                    }
                },
                "aws_vpc.default": {
                    "type": "aws_vpc",
                    "primary": {
                        "id": "vpc-138a0b77",
                        "attributes": {
                            "cidr_block": "10.128.0.0/16",
                            "default_network_acl_id": "acl-936cf1f7",
                            "default_security_group_id": "sg-813ac5e7",
                            "dhcp_options_id": "dopt-6e74dc0b",
                            "enable_classiclink": "false",
                            "enable_dns_hostnames": "true",
                            "enable_dns_support": "true",
                            "id": "vpc-138a0b77",
                            "instance_tenancy": "default",
                            "main_route_table_id": "rtb-9694fef2",
                            "tags.#": "3",
                            "tags.Name": "dev-vpc",
                            "tags.app": "laravel",
                            "tags.env": "dev"
                        }
                    }
                }
            }
        }
    ]
}
